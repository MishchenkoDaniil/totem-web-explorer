<div class="totem-navigation" fxLayout="row" fxLayoutAlign="center"><!-- (logInEvent)="processLogIn() -->
  <totem-nav-sidebar *ngIf="allowNavigation | async"></totem-nav-sidebar>
  <totem-profile-dropdown *ngIf="(allowNavigation | async) && isLoggedIn" (logOutEvent)="logOut()"></totem-profile-dropdown>
  <div class="totem-navigation-wrapper" fxLayout="row" fxLayoutAlign="space-between center">
    <div class="header-left" fxLayout="row" fxLayoutAlign="start center">
      <div class="logo-block">
        <a href="/"><img src="assets/icons/nav/totem-logo.svg" alt="TOTEM"></a>
      </div>
      <div class="search-block">
        <totem-search-filter></totem-search-filter>
      </div>
    </div>

    <div class="navigation-block">
      <div class="navigation-block-wrapper" fxLayout="row" fxLayoutAlign="space-between center">
        <a routerLinkActive="active-route" routerLink="/home">Home</a>
        <a routerLinkActive="active-route" routerLink="/items">Items</a>
        <a routerLinkActive="active-route" routerLink="/avatars">Avatars</a>
        <a routerLinkActive="active-route" routerLink="/games">Games</a>
        <a>Help</a>
      </div>

      <totem-button class="pl-[40px] pr-[30px]" [customId]="'o1'" [width]="'160px'" [height]="'46px'" [caption]="'Totem Items'" (click)="navigateToBuy()"></totem-button>

      <div class="profile-block cursor-pointer" (click)="isLoggedIn ? openSideProfile() : logIn()">
        <img class="fake-profile-icon" *ngIf="!(currUser | async)?.profileImage && !(loading$ | async)" src="assets/icons/nav/account_circle.svg" alt="profile-icon">
        <div class="nav-loader" *ngIf="(loading$ | async)" fxLayout="column" fxLayoutAlign="center center"><loading-spinner></loading-spinner></div>
        <img *ngIf="(currUser | async)?.profileImage && !(loading$ | async)" [src]="(currUser | async)?.profileImage" alt="profile-icon" class="w-[40px] h-[40px] rounded-full">
      </div>

    </div>

    <div class="tablet-menu">
      <div (click)="openSidefilter()" class="search-mobile">
        <img class="search-icon" src="assets/icons/nav/search-icon.svg" alt="TOTEM">
      </div>
      <div class="menu-button">
        <img (click)="openSidenav()" src="assets/icons/Menu.svg" alt="menu">
      </div>
    </div>


  </div>

</div>
